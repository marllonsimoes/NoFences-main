<mah:MetroWindow x:Class="NoFences.View.DownloadProgressWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:mah="http://metro.mahapps.com/winfx/xaml/controls"
        xmlns:iconPacks="http://metro.mahapps.com/winfx/xaml/iconpacks"
        Title="NoFences - Downloading Update"
        Height="300"
        Width="500"
        WindowStartupLocation="CenterScreen"
        ResizeMode="NoResize"
        ShowInTaskbar="True"
        Topmost="True"
        WindowStyle="None"
        BorderThickness="1"
        GlowBrush="{DynamicResource MahApps.Brushes.Accent}"
        TitleCharacterCasing="Normal">

    <!-- Theme synced with Windows system theme via ControlzEx.Theming.ThemeManager -->

    <Grid Margin="30">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <!-- Header -->
        <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,20">
            <iconPacks:PackIconMaterial x:Name="DownloadIcon"
                                       Kind="Download"
                                       Width="32"
                                       Height="32"
                                       VerticalAlignment="Center"
                                       Margin="0,0,15,0" />
            <StackPanel VerticalAlignment="Center">
                <TextBlock Text="Downloading Update"
                          FontSize="20"
                          FontWeight="Bold" />
                <TextBlock x:Name="VersionText"
                          Text="Version 1.7.0.0"
                          FontSize="14"
                          Opacity="0.7"
                          Margin="0,5,0,0" />
            </StackPanel>
        </StackPanel>

        <!-- Progress Bar -->
        <StackPanel Grid.Row="1" Margin="0,0,0,15">
            <mah:MetroProgressBar x:Name="ProgressBar"
                                 Height="10"
                                 Minimum="0"
                                 Maximum="100"
                                 Value="0" />
            <Grid Margin="0,10,0,0">
                <TextBlock x:Name="ProgressText"
                          Text="0%"
                          HorizontalAlignment="Center"
                          FontSize="16"
                          FontWeight="SemiBold" />
            </Grid>
        </StackPanel>

        <!-- Download Info -->
        <Grid Grid.Row="2" Margin="0,0,0,15">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>

            <!-- Downloaded -->
            <TextBlock Grid.Row="0" Grid.Column="0"
                      Text="Downloaded:"
                      Margin="0,0,10,5"
                      Opacity="0.7" />
            <TextBlock Grid.Row="0" Grid.Column="1"
                      x:Name="DownloadedText"
                      Text="0 MB / 15.2 MB"
                      HorizontalAlignment="Right"
                      Margin="0,0,0,5" />

            <!-- Speed -->
            <TextBlock Grid.Row="1" Grid.Column="0"
                      Text="Speed:"
                      Margin="0,0,10,5"
                      Opacity="0.7" />
            <TextBlock Grid.Row="1" Grid.Column="1"
                      x:Name="SpeedText"
                      Text="0 MB/s"
                      HorizontalAlignment="Right"
                      Margin="0,0,0,5" />

            <!-- Time Remaining -->
            <TextBlock Grid.Row="2" Grid.Column="0"
                      Text="Time Remaining:"
                      Margin="0,0,10,0"
                      Opacity="0.7" />
            <TextBlock Grid.Row="2" Grid.Column="1"
                      x:Name="TimeRemainingText"
                      Text="Calculating..."
                      HorizontalAlignment="Right" />
        </Grid>

        <!-- Status Message -->
        <Border Grid.Row="3"
                CornerRadius="5"
                Padding="15"
                Margin="0,0,0,15">
            <ScrollViewer VerticalScrollBarVisibility="Auto">
                <TextBlock x:Name="StatusText"
                          Text="Starting download..."
                          TextWrapping="Wrap"
                          FontSize="12" />
            </ScrollViewer>
        </Border>

        <!-- Cancel Button -->
        <Button Grid.Row="4"
                x:Name="CancelButton"
                Content="Cancel"
                Width="120"
                Height="35"
                HorizontalAlignment="Center"
                Click="CancelButton_Click" />
    </Grid>
</mah:MetroWindow>
